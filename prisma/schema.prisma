generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "postgresql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model alertas_precio {
  alerta_id      Int      @id @default(autoincrement())
  usuario_id     Int?
  producto_id    Int?
  precio_deseado Decimal? @db.Decimal(10, 2)
  activa         Boolean?
}

model almacenes {
  almacen_id Int     @id @default(autoincrement())
  nombre     String? @db.VarChar(255)
  ubicacion  String? @db.VarChar(255)
}

model comentarios {
  comentario_id Int       @id @default(autoincrement())
  producto_id   Int?
  usuario_id    Int?
  texto         String?
  fecha         DateTime? @db.Timestamp(6)
}

model precio_producto {
  precio_id   Int       @id @default(autoincrement())
  producto_id Int?
  precio      Decimal?  @db.Decimal(10, 2)
  fecha       DateTime? @db.Timestamp(6)
  almacen_id  Int?
}

model producto_almacen {
  producto_almacen_id Int  @id @default(autoincrement())
  producto_id         Int?
  almacen_id          Int?
  stock               Int?

  @@index([almacen_id], map: "idx_almacen")
  @@index([producto_id], map: "idx_producto")
}

model productos {
  producto_id  Int      @id @default(autoincrement())
  nombre       String?  @db.VarChar(255)
  calificacion Decimal? @db.Decimal
  imagen       String?
}

model usuarios {
  usuario_id    Int      @id @default(autoincrement())
  nombre        String?  @db.VarChar(255)
  email         String?  @unique @db.VarChar(255)
  es_suscriptor Boolean?
}
